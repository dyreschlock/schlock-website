<!DOCTYPE html>
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:t="http://tapestry.apache.org/schema/tapestry_5_3.xsd"
    xmlns:b="tapestry-library:blog"
    xmlns:l="tapestry-library:blog/link"
    >
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
        <title>${title}</title>
        <link rel="shortcut icon" href="/icons/favicon.ico" type="image/x-icon"/>
        <link rel="icon" href="/icons/favicon.ico" type="image/x-icon"/>
        <link rel="stylesheet" href="/layout/blog.css" type="text/css"/>
    </head>
    <body>

        <div id="topBar">
            <div id="blogHeader">
                <div class="title">
                    <h1>${message:website-title}</h1>
                </div>
                <div class="links">
                    <t:eventlink event="home">${message:home}</t:eventlink>
                    /
                    <t:eventlink event="archive">${message:archive}</t:eventlink>
                    /
                    <t:eventlink event="aboutMe">${message:about-me}</t:eventlink>
                    <t:remove>
                        <t:eventlink t:id="codejamLink">${message:codejam}</t:eventlink>
                    </t:remove>
                    <t:if test="local">
                        / <t:eventlink t:id="regeneratePostHTML">Regen</t:eventlink>
                    </t:if>
                </div>
                <br class="clr" />
            </div>
        </div>

        <div id="blogBody">
            <div id="blogContent">
                <t:body />
            </div>
        </div>

        <div id="blogFooter">
            <div id="footerContent">
                <div id="recentPosts">
                    <div class="title pb10">${message:recent-posts}</div>

                    <t:loop source="recentPosts" value="currentPost" index="currentIndex">
                        <div id="link${currentIndex}" class="pt10">
                            <l:postlink post="currentPost" />
                        </div>
                    </t:loop>
                </div>
                <div id="recentPinnedPosts">
                    <div class="title pb10">${message:recent-pinned-posts}</div>

                    <t:loop source="recentPinnedPosts" value="currentPost" index="currentIndex">
                        <div id="link${currentIndex}" class="pt10">
                            <l:postlink post="currentPost" />
                        </div>
                    </t:loop>
                </div>
                <div id="pagesLinks">
                    <div class="title pb10">${message:pages}</div>

                    <t:loop source="pages" value="currentPost" index="currentIndex">
                        <div id="link${currentIndex}" class="pt10">
                            <l:postlink post="currentPost" />
                        </div>
                    </t:loop>

                    <div id="aboutMessage">
                        <t:outputraw value="message:website-about" />
                        &nbsp;
                        <t:eventlink event="aboutMe">${message:read-more}</t:eventlink>
                        <br/><br/>
                        <div class="title">Email</div>
                        ${message:website-email}
                    </div>

                    <div id="iconLinks">
                        <l:iconlink icon="rss" dark="false" redirectUrl="rssUrl" altTitleText="${message:rssTitle}" />
                        <l:iconlink icon="twitter" dark="false" redirectUrl="${message:twitterUrl}" altTitleText="${message:twitterTitle}" />
                        <l:iconlink icon="facebook" dark="false" redirectUrl="${message:facebookUrl}" altTitleText="${message:facebookTitle}" />
                        <l:iconlink icon="youtube" dark="false" redirectUrl="${message:youtubeUrl}" altTitleText="${message:youtubeTitle}" />
                        <l:iconlink icon="ebay" dark="false" redirectUrl="${message:ebayUrl}" altTitleText="${message:ebayTitle}" />
                    </div>

                </div>
                <br class="clr" />
            </div>
        </div>
    </body>
</html>